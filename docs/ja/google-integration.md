# Google連携

VSAはGoogleアカウントと連携することで、Googleフォトおよびドライブへの画像のバックアップと同期が可能です。このガイドでは、Googleログインの設定方法とバックアップ機能について説明します。

## 機能概要

Google連携を有効にすることで、以下の機能が利用できます。

- Googleアカウントでのログイン
- Googleフォトへの画像自動アップロード
- Googleドライブへのバックアップ同期
- 複数デバイス間での画像共有

## Googleログイン

### ログイン方法

1. 設定画面を開く
2. 「Google連携」セクションを選択
3. 「Googleでログイン」ボタンをクリック
4. ブラウザでGoogleアカウントを選択
5. VSAへのアクセスを許可

### 必要な権限

VSAは以下のGoogleサービスへのアクセス許可を要求します。

| 権限 | 用途 |
|------|------|
| Googleフォト（読み取り/書き込み） | 画像のアップロードと管理 |
| Googleドライブ（読み取り/書き込み） | バックアップファイルの保存 |
| ユーザー情報（基本） | アカウント識別 |

### ログアウト

設定画面の「Google連携」セクションから「ログアウト」を選択することで、いつでもGoogleアカウントとの連携を解除できます。

## Googleフォト連携

### 自動アップロード

VSAにインポートされた画像をGoogleフォトに自動アップロードできます。

#### 設定オプション

| オプション | 説明 |
|-----------|------|
| 自動アップロード | 新しい画像を自動的にアップロード |
| アップロード画質 | 元の画質/高画質（容量節約）|
| アルバム設定 | アップロード先のアルバムを指定 |
| メタデータ保持 | VSAのメタデータを保持してアップロード |

#### アルバム管理

- 撮影日ごとに自動でアルバムを作成
- ワールドごとにアルバムを分類
- カスタムアルバムへの振り分け

### 手動アップロード

ギャラリーから選択した画像を個別にアップロードすることも可能です。

1. ギャラリーで画像を選択
2. 右クリックメニューから「Googleフォトにアップロード」を選択
3. アップロード先のアルバムを選択
4. アップロードを実行

## Googleドライブ連携

### バックアップ同期

Googleドライブを使用して、VSAのデータベースと設定をクラウドにバックアップできます。

#### バックアップ対象

| 項目 | 説明 |
|------|------|
| 画像ファイル | オリジナル画像とサムネイル |
| メタデータ | 抽出されたVRChat情報 |
| データベース | 画像のインデックス情報 |
| 設定ファイル | アプリケーション設定 |

#### 同期オプション

| オプション | 説明 |
|-----------|------|
| 自動同期 | 変更時に自動でバックアップ |
| 同期間隔 | 定期バックアップの間隔（1時間/1日/1週間）|
| 同期フォルダ | ドライブ上の保存先フォルダ |
| 帯域制限 | アップロード速度の制限 |

### 復元

新しいデバイスやVSAの再インストール時に、Googleドライブからデータを復元できます。

1. VSAを起動
2. Googleアカウントでログイン
3. 「バックアップから復元」を選択
4. 復元するバックアップを選択
5. 復元を実行

## 同期状態の確認

### ステータスインジケーター

VSAのステータスバーでGoogle同期の状態を確認できます。

| アイコン | 状態 |
|---------|------|
| 雲（チェック）| 同期完了 |
| 雲（矢印）| 同期中 |
| 雲（×）| 同期エラー |
| 雲（オフライン）| オフライン |

### 同期ログ

設定画面から詳細な同期ログを確認できます。

- アップロード/ダウンロード履歴
- エラー詳細
- 帯域使用量

## プライバシーとセキュリティ

### データの取り扱い

- 画像とメタデータはユーザーのGoogleアカウントにのみ保存されます
- VSAのサーバーを経由することはありません
- OAuth 2.0による安全な認証

### アクセスの管理

Googleアカウントの設定ページから、VSAのアクセス権限をいつでも確認・取り消しできます。

1. [Googleアカウント設定](https://myaccount.google.com/)にアクセス
2. 「セキュリティ」→「サードパーティアプリとサービス」を選択
3. VSAを選択してアクセス権限を管理

## トラブルシューティング

### ログインできない場合

1. **インターネット接続を確認**
   - ネットワーク接続が正常か確認してください

2. **ブラウザの設定を確認**
   - ポップアップブロックを無効にしてください
   - Cookieが有効になっているか確認してください

3. **Googleアカウントの状態を確認**
   - 2段階認証が有効な場合、認証を完了してください

### 同期が完了しない場合

1. **ストレージ容量を確認**
   - Googleドライブ/フォトの空き容量を確認してください

2. **ファイルサイズを確認**
   - 大きなファイルは時間がかかる場合があります

3. **ネットワーク状態を確認**
   - 安定したネットワーク環境で再試行してください

### アップロードが失敗する場合

1. **ファイル形式を確認**
   - サポートされている画像形式: PNG, JPEG, WEBP, JXL

2. **権限を確認**
   - VSAに必要な権限が付与されているか確認してください

3. **再認証**
   - ログアウト後、再度ログインしてください

